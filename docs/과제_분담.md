# 과제 분담 및 작업 계획

> 제출일: 12월 11일 (목) 밤 11시 59분

## 👥 팀 구성 및 역할

| 이름 | 역할 | 담당 업무 |
|------|------|----------|
| **서성덕** | 팀장, 백엔드 개발자 | AWS Lambda 함수 개발, API Gateway 설계 및 구성, RESTful API 설계 및 구현, 전체 아키텍처 설계, 인증 시스템 구현 (Lambda Authorizer), 서버리스 아키텍처 설계 |
| **김휘성** | 데이터 엔지니어 | 공공데이터 API 연동 (Lambda 함수), 데이터 전처리 및 변환, MongoDB Atlas 스키마 설계, Redis 캐싱 전략 (ElastiCache), Lambda 함수 내 데이터 처리 로직 |
| **노원우** | 풀스택 개발자 | Lambda 함수 보조 개발, 프론트엔드 보조, API 통신 로직, 데이터 바인딩, AWS 서비스 연동 보조 |
| **정일혁** | 프론트엔드 개발자 | React UI/UX 구현, 모바일/PC 반응형 디자인, PWA 기능 구현, 실시간 알림 구현, 프론트엔드 최적화, API Gateway 연동 |

---

## 📋 제출까지 해야 할 모든 작업

### 서성덕 (팀장, 백엔드 개발자)

#### AWS 인프라 설정
- [ ] AWS 계정 로그인 및 리전 확인
- [ ] IAM 역할 생성 (Lambda 실행 역할, API Gateway 역할)
- [ ] API Gateway REST API 생성
- [ ] API Gateway 리소스 생성 (/api/auth, /api/crowds, /api/subway, /api/parking, /api/rankings, /api/areas)
- [ ] API Gateway 메서드 생성 (GET, POST 등)
- [ ] CORS 설정
- [ ] API Gateway 스테이지 생성 (dev, prod)
- [ ] Lambda 함수 기본 템플릿 작성 (handler 구조)

#### Lambda 함수 구현 - AuthService (5개)
- [ ] `auth-register`: 회원가입 Lambda 함수 구현
  - [ ] Express 코드에서 로직 추출
  - [ ] Lambda handler 작성
  - [ ] MongoDB Atlas 연결
  - [ ] 비밀번호 해싱 (bcrypt)
  - [ ] API Gateway 연결
  - [ ] 테스트
- [ ] `auth-login`: 로그인 Lambda 함수 구현
  - [ ] Express 코드에서 로직 추출
  - [ ] JWT 토큰 생성
  - [ ] API Gateway 연결
  - [ ] 테스트
- [ ] `auth-logout`: 로그아웃 Lambda 함수 구현
- [ ] `auth-refresh`: 토큰 갱신 Lambda 함수 구현
- [ ] `auth-me`: 내 정보 조회 Lambda 함수 구현
- [ ] Lambda Authorizer 구현 (JWT 검증)
- [ ] API Gateway에 Authorizer 연결

#### 배포 및 설정
- [ ] 모든 Lambda 함수 환경 변수 설정 (MONGODB_URI, REDIS_HOST, JWT_SECRET, SEOUL_API_KEY)
- [ ] API Gateway 배포 (prod 스테이지)
- [ ] Lambda 함수 메모리 및 타임아웃 설정
- [ ] CloudWatch 로그 확인
- [ ] 전체 API 엔드포인트 테스트

---

### 김휘성 (데이터 엔지니어)

#### AWS 인프라 설정
- [ ] MongoDB Atlas 계정 생성
- [ ] MongoDB Atlas 클러스터 생성 (M0 무료 티어 가능)
- [ ] 네트워크 접근 설정 (0.0.0.0/0 또는 Lambda IP)
- [ ] 데이터베이스 사용자 생성
- [ ] 기존 MongoDB 데이터 백업
- [ ] MongoDB Atlas로 데이터 마이그레이션
- [ ] ElastiCache 클러스터 생성 (Redis)
- [ ] ElastiCache 보안 그룹 설정
- [ ] ElastiCache 엔드포인트 확인
- [ ] 공공데이터 API 연동 테스트 (로컬)

#### Lambda 함수 구현 - 데이터 서비스 (8개)
- [ ] `crowd-list`: 인파 데이터 목록 Lambda 함수 구현
  - [ ] Express 코드에서 로직 추출
  - [ ] 서울시 공공데이터 API 연동
  - [ ] ElastiCache 캐싱 로직
  - [ ] API Gateway 연결
  - [ ] 테스트
- [ ] `crowd-detail`: 인파 데이터 상세 Lambda 함수 구현
- [ ] `crowd-history`: 인파 히스토리 Lambda 함수 구현
- [ ] `subway-list`: 지하철 혼잡도 목록 Lambda 함수 구현
- [ ] `subway-detail`: 지하철 혼잡도 상세 Lambda 함수 구현
- [ ] `parking-list`: 주차장 목록 Lambda 함수 구현
- [ ] `parking-nearby`: 주변 주차장 Lambda 함수 구현
- [ ] `parking-district`: 구별 주차장 Lambda 함수 구현

#### 배포 및 테스트
- [ ] MongoDB Atlas 인덱스 확인
- [ ] ElastiCache 연결 테스트
- [ ] 공공데이터 API 호출 테스트
- [ ] 데이터 캐싱 동작 확인
- [ ] 성능 테스트

---

### 노원우 (풀스택 개발자)

#### Lambda Layer 및 공통 코드
- [ ] Express 서버 코드 전체 분석
- [ ] Lambda Layer 구조 설계 (common layer)
- [ ] 공통 코드 정리 (utils, models, middlewares, config)
- [ ] Lambda Layer 패키징 스크립트 작성
- [ ] Lambda 함수 템플릿 작성
- [ ] Lambda Layer 패키징 및 배포
- [ ] 모든 Lambda 함수에 Layer 연결

#### Lambda 함수 구현 - 서비스 (6개)
- [ ] `ranking-popular`: 인기 장소 랭킹 Lambda 함수 구현
- [ ] `area-list`: 지역 목록 Lambda 함수 구현
- [ ] `area-categories`: 지역 카테고리 Lambda 함수 구현
- [ ] `area-search`: 지역 검색 Lambda 함수 구현
- [ ] `area-category`: 카테고리별 지역 Lambda 함수 구현
- [ ] `area-detail`: 지역 상세 Lambda 함수 구현

#### 배포 및 테스트
- [ ] Lambda Layer 최종 확인
- [ ] 통합 테스트
- [ ] 에러 핸들링 확인
- [ ] API 응답 형식 통일 확인

#### 보고서 작성
- [ ] (정일혁님이 전부 작성)

---

### 정일혁 (프론트엔드 개발자)

#### 프론트엔드 준비
- [x] 현재 프론트엔드 API 호출 코드 확인
- [x] API 엔드포인트 목록 정리
- [x] 환경 변수 파일 확인 (.env)
- [x] API Gateway 엔드포인트로 변경할 위치 파악

#### 프론트엔드 연동
- [ ] API Gateway 엔드포인트 URL 확인
- [x] 프론트엔드 API 클라이언트 수정 (API Gateway URL로 변경)
- [ ] 환경 변수 설정 (API Gateway URL)
- [ ] API 호출 테스트
- [x] 에러 처리 확인
- [x] 반응형 디자인 점검
- [x] PWA 기능 점검

#### 배포
- [x] S3 버킷 생성
- [ ] CloudFront 배포 구성 (AWS 계정 검증 필요)
- [x] 프론트엔드 빌드 (`npm run build`)
- [x] S3에 정적 파일 업로드
- [ ] CloudFront 배포
- [ ] CloudFront 무효화
- [ ] 배포된 프론트엔드에서 API 호출 테스트
- [ ] 모바일/PC 반응형 확인

#### 보고서 작성
#### PPT 발표자료

---

## 📊 Lambda 함수 분담 (19개)

### 서성덕 (5개)
- AuthService: register, login, logout, refresh, me

### 김휘성 (8개)
- CrowdService: list, detail, history (3개)
- SubwayService: list, detail (2개)
- ParkingService: list, nearby, district (3개)

### 노원우 (6개)
- RankingService: popular (1개)
- AreaService: list, categories, search, category, detail (5개)