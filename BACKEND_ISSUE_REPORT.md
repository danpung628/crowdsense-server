# λ°±μ—”λ“ API λ¬Έμ  λ³΄κ³ μ„

> μ‘μ„±μΌ: 2025-12-13  
> μ‘μ„±μ: μ •μΌν  
> λ‹΄λ‹Ήμ: μ„μ„±λ•λ‹ (AuthService λ‹΄λ‹Ή)

## π¨ λ°κ²¬λ λ¬Έμ 

### νμ›κ°€μ… API (`/auth-register`) μ„λ²„ μ—λ¬

**μ—λ¬ λ©”μ‹μ§€**: `Internal server error`

**μν–¥ λ²”μ„**:
- νμ›κ°€μ… κΈ°λ¥ μ „λ©΄ μ‹¤ν¨
- νμ›κ°€μ…μ΄ ν•„μ”ν• λ¨λ“  ν…μ¤νΈ μ‹¤ν¨ (7κ° ν…μ¤νΈ)

**μ‹¤ν¨ν• ν…μ¤νΈ**:
1. νμ›κ°€μ… - μ •μƒ μΌ€μ΄μ¤
2. λ΅κ·ΈμΈ - μ •μƒ μΌ€μ΄μ¤ (νμ›κ°€μ… μ‹¤ν¨λ΅ μΈν• μ—°μ‡„ μ‹¤ν¨)
3. νμ›κ°€μ… - μ΄λ―Έ μ΅΄μ¬ν•λ” μ‚¬μ©μ μ—λ¬
4. λ΅κ·ΈμΈ - μλ»λ λΉ„λ°€λ²νΈ μ—λ¬
5. Navbar μƒνƒ - λ΅κ·ΈμΈ ν›„
6. λ΅κ·Έμ•„μ›ƒ κΈ°λ¥
7. ν† ν° μ €μ¥ λ° μ μ§€ ν™•μΈ

## π“‹ μ„μ„±λ•λ‹κ» μ”μ²­ μ‚¬ν•­

### 1. νμ›κ°€μ… Lambda ν•¨μ (`auth-register`) ν™•μΈ

**ν™•μΈ ν•„μ” μ‚¬ν•­**:
- [ ] Lambda ν•¨μκ°€ μ •μƒ λ°°ν¬λμ—λ”μ§€ ν™•μΈ
- [ ] CloudWatch Logsμ—μ„ μ—λ¬ λ΅κ·Έ ν™•μΈ
- [ ] Lambda Layer μ—°κ²° μƒνƒ ν™•μΈ (`/opt/nodejs/shared/services/authService.js`)
- [ ] ν™κ²½ λ³€μ μ„¤μ • ν™•μΈ (ν•„μ”μ‹)
- [ ] API Gateway μ—°κ²° μƒνƒ ν™•μΈ

**API Gateway URL**: `https://cntfsdk0vc.execute-api.ap-southeast-2.amazonaws.com/prod/api`

**Lambda ν•¨μ**: `auth-register`

**λ¦¬μ „**: `ap-southeast-2`

### 2. CloudWatch Logs ν™•μΈ λ°©λ²•

```bash
aws logs tail /aws/lambda/auth-register --follow --region ap-southeast-2
```

λλ” AWS Consoleμ—μ„:
1. CloudWatch β†’ Logs β†’ Log groups
2. `/aws/lambda/auth-register` μ„ νƒ
3. μµκ·Ό μ—λ¬ λ΅κ·Έ ν™•μΈ

### 3. ν…μ¤νΈ μ”μ²­

**ν…μ¤νΈν•  μ—”λ“ν¬μΈνΈ**:
```
POST https://cntfsdk0vc.execute-api.ap-southeast-2.amazonaws.com/prod/api/auth-register
Content-Type: application/json

{
  "id": "testuser_123",
  "password": "test1234"
}
```

**μμƒ μ‘λ‹µ**:
```json
{
  "success": true,
  "accessToken": "...",
  "refreshToken": "..."
}
```

**ν„μ¬ μ‘λ‹µ**: `Internal server error` (500 μ—λ¬)

## π“ ν…μ¤νΈ κ²°κ³Ό μ”μ•½

- **μ „μ²΄ ν…μ¤νΈ**: 60κ°
- **μ„±κ³µ**: 53κ° β… (ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ κ²€μ¦ λ¨λ‘ ν†µκ³Ό)
- **μ‹¤ν¨**: 7κ° β (λ¨λ‘ νμ›κ°€μ… API λ¬Έμ λ΅ μΈν• μ—°μ‡„ μ‹¤ν¨)

**μ„±κ³µν• ν…μ¤νΈ**:
- β… νμ›κ°€μ… - λΉ μ…λ ¥ ν•„λ“ μ—λ¬ (ν΄λΌμ΄μ–ΈνΈ κ²€μ¦)
- β… νμ›κ°€μ… - λΉ„λ°€λ²νΈ λ¶μΌμΉ μ—λ¬ (ν΄λΌμ΄μ–ΈνΈ κ²€μ¦)
- β… νμ›κ°€μ… - λΉ„λ°€λ²νΈ κΈΈμ΄ λ¶€μ΅± μ—λ¬ (ν΄λΌμ΄μ–ΈνΈ κ²€μ¦)
- β… λ΅κ·ΈμΈ - λΉ μ…λ ¥ ν•„λ“ μ—λ¬ (ν΄λΌμ΄μ–ΈνΈ κ²€μ¦)
- β… Navbar μƒνƒ - λ΅κ·ΈμΈ μ „
- β… νμ΄μ§€ λ„¤λΉ„κ²μ΄μ…
- β… κΈ°νƒ€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ κ²€μ¦

## π’΅ μ°Έκ³ 

ν”„λ΅ νΈμ—”λ“ μ½”λ“λ” μ •μƒ μ‘λ™ μ¤‘μ…λ‹λ‹¤:
- λ¨λ“  UI κµ¬ν„ μ™„λ£
- μ—λ¬ ν•Έλ“¤λ§ μ •μƒ μ‘λ™
- ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ κ²€μ¦ λ¨λ‘ ν†µκ³Ό
- λ¬Έμ λ” λ°±μ—”λ“ Lambda ν•¨μμ—μ„ λ°μƒ

## π“ μ—°λ½ λ°©λ²•

μ„μ„±λ•λ‹κ» λ‹¤μ μ •λ³΄μ™€ ν•¨κ» μ”μ²­:
1. μ΄ λ³΄κ³ μ„ λ‚΄μ©
2. API Gateway URL
3. Lambda ν•¨μλ… (`auth-register`)
4. CloudWatch Logs ν™•μΈ μ”μ²­
